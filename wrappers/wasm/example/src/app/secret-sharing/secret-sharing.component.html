<!-- Top menu on small screens -->
<header class="w3-container w3-top w3-hide-large w3-red w3-xlarge w3-padding">
  <a href="javascript:void(0)" class="w3-button w3-red w3-margin-right" (click)="w3Open()">â˜°</a>
  <span>Devolutions crypto</span>
</header>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" (click)="w3Close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:340px;margin-right:40px;padding-top: 30px;">
  <div  style="margin-top:40px;text-align: center;">
    <b><fa-icon class="fa-3x" [icon]="faUserSecret"></fa-icon></b>
    <h1>Secret Sharing</h1>
  </div>
  <div style="margin-top:40px; border: 2px groove;border-radius: 10px;border-color: lightgray;" class="container">
    <h2 style="background-color: #f44336; color: white; margin-top: 10px;text-align: center;height: 40px;padding-top: 5px;">Shares Generation</h2>
    <form [formGroup]="generateSharesForm" (ngSubmit)="generateShares()">
      <div class="form-group">
        <label for="nbShares">Number of shares</label>
        <input type="text" class="form-control" formControlName="nbShares" required>
      </div>

      <div class="form-group">
        <label for="threshold">Threshold</label>
        <input type="text" class="form-control" formControlName="threshold" required>
      </div>

      <div class="form-group">
        <label for="secretLength">Secret length</label>
        <input type="text" class="form-control" formControlName="secretLength" required>
      </div>

      <button type="submit" class="btn btn-success">Generate</button>

      <div style="margin-top:20px;margin-bottom: 20px;">
        <h4>Result</h4>
        <ul>
          <li *ngFor="let key of generatedKeysBase64">
            {{ key }}
          </li>
        </ul>
      </div>
    </form>
  </div>

  <div class="container" style="margin-top:60px; border: 2px groove;border-radius: 10px;border-color: lightgray;">
    <h2 style="background-color: #f44336; color: white; margin-top: 10px;text-align: center;height: 40px;padding-top: 5px;">Join shares</h2>
    <form [formGroup]="joinSharesForm" (ngSubmit)="joinShares()">
      <div class="form-group">
        <label for="addSharekey">Shares</label>
        <input type="text" class="form-control" formControlName="addSharekey" required>
        <div style="margin-top:5px">
          <button type="button" class="btn btn-success" (click)="addShare()">Add Share</button>
        </div>
      </div>

      <div style="margin-top:20px">
        <ul>
          <li *ngFor="let key of joinnedSharesToShow">
            {{key}}
          </li>
        </ul>
      </div>

      <div style="margin-top:40px">
        <button type="submit" class="btn btn-success">Join shares</button>
      </div>

      <div class="form-group" style="margin-top:20px;margin-bottom: 20px;">
        <label for="joinResult"><h4>Result</h4></label>
        <textarea rows="5" type="text" class="form-control" formControlName="joinResult"></textarea>
      </div>
    </form>
  </div>
</div>
